<!DOCTYPE html><html class="no-js" lang="en"><head>
<meta charset="utf-8">
<meta content="width=device-width,initial-scale=1" name="viewport">
<link href="../Codabench-Installation/" rel="prev">
<link href="../Administrator-procedures/" rel="next">
<link href="../../assets/images/favicon.png" rel="icon">
<meta content="mkdocs-1.6.1, mkdocs-material-9.6.20" name="generator">
<title>How to Deploy a Server - Codabench Wiki</title>
<link href="../../assets/stylesheets/main.e53b48f4.min.css" rel="stylesheet">
<link href="../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet">

<link href="../../assets/external/fonts.googleapis.com/css.49ea35f2.css" rel="stylesheet">
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../../css/open_in_new_tab.css" rel="stylesheet">
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head>
<body data-md-color-accent="orange" data-md-color-primary="indigo" data-md-color-scheme="slate" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox">
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox">
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#overview">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<div data-md-color-scheme="default" data-md-component="outdated" hidden="">
</div>
<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Codabench Wiki" class="md-header__button md-logo" data-md-component="logo" href="../.." title="Codabench Wiki">
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Codabench Wiki
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              How to Deploy a Server
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="orange" data-md-color-media="" data-md-color-primary="indigo" data-md-color-scheme="slate" id="__palette_0" name="__palette" type="radio">
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to dark mode">
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio">
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to light mode">
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
</label>
</form>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text">
<label class="md-search__icon md-icon" for="__search">
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<a aria-label="Share" class="md-search__icon md-icon" data-clipboard="" data-clipboard-text="" data-md-component="search-share" href="javascript:void(0)" tabindex="-1" title="Share">
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"></path></svg>
</a>
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/codalab/codabench" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
<a class="md-header-nav__button md-icon" href="../../codabench-wiki.pdf" title="PDF">
<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
<path d="M128,0c-17.6,0-32,14.4-32,32v448c0,17.6,14.4,32,32,32h320c17.6,0,32-14.4,32-32V128L352,0H128z" fill="#E2E5E7"></path>
<path d="m384 128h96l-128-128v96c0 17.6 14.4 32 32 32z" fill="#B0B7BD"></path>
<polygon fill="#CAD1D8" points="480 224 384 128 480 128"></polygon>
<path d="M416,416c0,8.8-7.2,16-16,16H48c-8.8,0-16-7.2-16-16V256c0-8.8,7.2-16,16-16h352c8.8,0,16,7.2,16,16  V416z" fill="#F15642"></path>
<g fill="#fff">
<path d="m101.74 303.15c0-4.224 3.328-8.832 8.688-8.832h29.552c16.64 0 31.616 11.136 31.616 32.48 0 20.224-14.976 31.488-31.616 31.488h-21.36v16.896c0 5.632-3.584 8.816-8.192 8.816-4.224 0-8.688-3.184-8.688-8.816v-72.032zm16.88 7.28v31.872h21.36c8.576 0 15.36-7.568 15.36-15.504 0-8.944-6.784-16.368-15.36-16.368h-21.36z"></path>
<path d="m196.66 384c-4.224 0-8.832-2.304-8.832-7.92v-72.672c0-4.592 4.608-7.936 8.832-7.936h29.296c58.464 0 57.184 88.528 1.152 88.528h-30.448zm8.064-72.912v57.312h21.232c34.544 0 36.08-57.312 0-57.312h-21.232z"></path>
<path d="m303.87 312.11v20.336h32.624c4.608 0 9.216 4.608 9.216 9.072 0 4.224-4.608 7.68-9.216 7.68h-32.624v26.864c0 4.48-3.184 7.92-7.664 7.92-5.632 0-9.072-3.44-9.072-7.92v-72.672c0-4.592 3.456-7.936 9.072-7.936h44.912c5.632 0 8.96 3.344 8.96 7.936 0 4.096-3.328 8.704-8.96 8.704h-37.248v0.016z"></path>
</g>
<path d="m400 432h-304v16h304c8.8 0 16-7.2 16-16v-16c0 8.8-7.2 16-16 16z" fill="#CAD1D8"></path>
</svg>
</a></nav>
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../..">
        
  
  
    
  
  Home

      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../Participants/User_Participating-in-a-Competition/">
          
  
  
    
  
  Participants

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../Organizers/Benchmark_Creation/Getting-started-with-Codabench/">
          
  
  
    
  
  Organizers

        </a>
</li>
<li class="md-tabs__item md-tabs__item--active">
<a class="md-tabs__link" href="../Codabench-Installation/">
          
  
  
    
  
  Developers and Administrators

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../Newsletters_Archive/CodaLab-in-2024/">
          
  
  
    
  
  Newsletters Archive

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../Contribute/">
          
  
  
    
  
  How you can contribue

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../Project_CodaBench_FAQ/">
        
  
  
    
  
  FAQ

      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../contact-us/">
        
  
  
    
  
  Contact Us

      </a>
</li>
</ul>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Codabench Wiki" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="Codabench Wiki">
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>
</a>
    Codabench Wiki
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/codalab/codabench" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
<span class="md-ellipsis">
    Home
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_2" type="checkbox">
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
<span class="md-ellipsis">
    Participants
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            Participants
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Participants/User_Participating-in-a-Competition/">
<span class="md-ellipsis">
    Participating in a Competition
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://www.codabench.org/competitions/public/?page=1">
<span class="md-ellipsis">
    List of Current Benchmarks and Competitions
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_3" type="checkbox">
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-ellipsis">
    Organizers
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            Organizers
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_3_1" type="checkbox">
<label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
<span class="md-ellipsis">
    Benchmark Creation
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_1">
<span class="md-nav__icon md-icon"></span>
            Benchmark Creation
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Organizers/Benchmark_Creation/Getting-started-with-Codabench/">
<span class="md-ellipsis">
    Getting Started Tutorial
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Organizers/Benchmark_Creation/Advanced-Tutorial/">
<span class="md-ellipsis">
    Advanced Tutorial
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Organizers/Benchmark_Creation/How-to-transition-from-CodaLab-to-Codabench%3F/">
<span class="md-ellipsis">
    How to Transition from Codalab to Codabench?
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Organizers/Benchmark_Creation/Competition-Creation/">
<span class="md-ellipsis">
    Competition Creation
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Organizers/Benchmark_Creation/Competition-Creation%3A-Form/">
<span class="md-ellipsis">
    Competition Creation Form
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Organizers/Benchmark_Creation/Competition-Creation%3A-Bundle/">
<span class="md-ellipsis">
    Competition Creation Bundle
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Organizers/Benchmark_Creation/Competition-Bundle-Structure/">
<span class="md-ellipsis">
    Competition YAML Structure
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Organizers/Benchmark_Creation/Yaml-Structure/">
<span class="md-ellipsis">
    YAML Structure
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Organizers/Benchmark_Creation/Competition-docker-image/">
<span class="md-ellipsis">
    Competition Docker Image
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Organizers/Benchmark_Creation/Dataset-competition-creation-and-participate-instruction/">
<span class="md-ellipsis">
    Dataset Competition Creation and participate instruction
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Organizers/Benchmark_Creation/Leaderboard-Functionality/">
<span class="md-ellipsis">
    Leaderboard Features
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://github.com/codalab/competition-examples/tree/master/codabench">
<span class="md-ellipsis">
    Competition Examples
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Organizers/Benchmark_Creation/Cancer-Benchmarks/">
<span class="md-ellipsis">
    Example Cancer Benchmarks
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Organizers/Benchmark_Creation/Public-Tasks-and-Tasks-Sharing/">
<span class="md-ellipsis">
    Public Tasks and Tasks Sharing
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Organizers/Benchmark_Creation/Detailed-Results-and-Visualizations/">
<span class="md-ellipsis">
    Detailed Results and Visualization
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_3_2" type="checkbox">
<label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
<span class="md-ellipsis">
    Running a Benchmarks
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_2">
<span class="md-nav__icon md-icon"></span>
            Running a Benchmarks
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Organizers/Running_a_benchmark/Competition-Management-%26-List/">
<span class="md-ellipsis">
    Benchmark Management &amp; List Page
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Organizers/Running_a_benchmark/Competition-Detail-Page/">
<span class="md-ellipsis">
    Benchmark Detail Page
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Organizers/Running_a_benchmark/Resource-Management/">
<span class="md-ellipsis">
    Ressource Management Submissions, Datasets/Programs, Tasks and Competition Bundles
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Organizers/Running_a_benchmark/Update-programs-or-data/">
<span class="md-ellipsis">
    Update programs or data
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Organizers/Running_a_benchmark/Queue-Management/">
<span class="md-ellipsis">
    Queue Management
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Organizers/Running_a_benchmark/Compute-Worker-Management---Setup/">
<span class="md-ellipsis">
    Compute Worker Management &amp; Setup
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Organizers/Running_a_benchmark/Compute-worker-installation-with-Podman/">
<span class="md-ellipsis">
    Compute Worker Management with Podman
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Organizers/Running_a_benchmark/Server-status-page/">
<span class="md-ellipsis">
    Server Status
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox">
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
<span class="md-ellipsis">
    Developers and Administrators
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            Developers and Administrators
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Codabench-Installation/">
<span class="md-ellipsis">
    Codabench Basic Installtion Guide
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox">
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    How to Deploy a Server
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    How to Deploy a Server
    
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#overview">
<span class="md-ellipsis">
      Overview
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#preliminary-steps">
<span class="md-ellipsis">
      Preliminary steps
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#modify-env-file-configuration">
<span class="md-ellipsis">
      Modify .env file configuration
    </span>
</a>
<nav aria-label="Modify .env file configuration" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#submissions-endpoint">
<span class="md-ellipsis">
      Submissions endpoint
    </span>
</a>
<nav aria-label="Submissions endpoint" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#using-an-ip-address">
<span class="md-ellipsis">
      Using an IP address
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#using-a-domain-name-dns">
<span class="md-ellipsis">
      Using a domain name (DNS)
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#change-default-usernames-and-passwords">
<span class="md-ellipsis">
      Change default usernames and passwords
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#open-access-permissions-for-following-port-number">
<span class="md-ellipsis">
      Open Access Permissions for following port number
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#modify-django-related-configuration">
<span class="md-ellipsis">
      Modify django-related configuration
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#start-service">
<span class="md-ellipsis">
      Start service
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#set-public-bucket-policy-to-readwrite">
<span class="md-ellipsis">
      Set public bucket policy to read/write
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#checkout-the-log-of-the-specified-container">
<span class="md-ellipsis">
      Checkout the log of the specified container
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#stop-service">
<span class="md-ellipsis">
      Stop service
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#disabling-docker-containers-on-production">
<span class="md-ellipsis">
      Disabling docker containers on production
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#link-compute-workers-to-default-queue">
<span class="md-ellipsis">
      Link compute workers to default queue
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#personalize-main-banner">
<span class="md-ellipsis">
      Personalize Main Banner
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#frequently-asked-questions-faqs">
<span class="md-ellipsis">
      Frequently asked questions (FAQs)
    </span>
</a>
<nav aria-label="Frequently asked questions (FAQs)" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#invalid-http-method">
<span class="md-ellipsis">
      Invalid HTTP method
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#missing-static-resources-cssjs">
<span class="md-ellipsis">
      Missing static resources (css/js)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cors-error-could-not-upload-bundle">
<span class="md-ellipsis">
      CORS Error (could not upload bundle)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#display-logos-error-logos-dont-upload-from-minio">
<span class="md-ellipsis">
      Display logos error: logos don't upload from minio:
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#compute-worker-execution-with-insufficient-privileges">
<span class="md-ellipsis">
      Compute worker execution with insufficient privileges
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#securing-codabench-and-minio">
<span class="md-ellipsis">
      Securing Codabench and Minio
    </span>
</a>
<nav aria-label="Securing Codabench and Minio" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#secure-minio-with-a-reverse-proxy">
<span class="md-ellipsis">
      Secure Minio with a reverse proxy
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#secure-minio-on-the-same-server-as-codabench-simpler">
<span class="md-ellipsis">
      Secure Minio on the same server as codabench (simpler)
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#workaround-minio-and-django-on-the-same-machine-with-only-the-port-443-opened-to-the-external-network">
<span class="md-ellipsis">
      Workaround: MinIO and Django on the same machine with only the port 443 opened to the external network.
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Administrator-procedures/">
<span class="md-ellipsis">
    Administrative Procedures
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Codabench-Architecture/">
<span class="md-ellipsis">
    Codabench Docker Architecture
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Submission-Docker-Container-Layout/">
<span class="md-ellipsis">
    Submission Docker Container Layout
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Creating-and-Restoring-from-Backup/">
<span class="md-ellipsis">
    Backups - Automating Creation and Restoring
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Submission-Process-Overview/">
<span class="md-ellipsis">
    Submission Process Overview
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Robot-submissions/">
<span class="md-ellipsis">
    Robot Submissions
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Running-tests/">
<span class="md-ellipsis">
    Running Tests
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Automating-with-Selenium/">
<span class="md-ellipsis">
    Automation
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Manual-validation/">
<span class="md-ellipsis">
    Manual Validation
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Validation-and-deployment-of-pull-requests/">
<span class="md-ellipsis">
    Validation and deplyement of pull requests
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_4_13" type="checkbox">
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../Upgrading_Codabench/">
<span class="md-ellipsis">
    Upgrading Codabench
    
  </span>
</a>
<label class="md-nav__link" for="__nav_4_13" id="__nav_4_13_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_4_13_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_13">
<span class="md-nav__icon md-icon"></span>
            Upgrading Codabench
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Upgrading_Codabench/Upgrade-RabbitMQ/">
<span class="md-ellipsis">
    Upgrade RabbitMQ (version &lt; 1.0.0)
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Upgrading_Codabench/Create-new-logos-for-each-competition/">
<span class="md-ellipsis">
    Create new logos for each competitions (version &lt; 1.4.1)
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Upgrading_Codabench/Worker-Docker-Image-manual-update/">
<span class="md-ellipsis">
    Worker docker image manual update (version &lt; 1.3.1)
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Upgrading_Codabench/Add-line-into-.env-for-default-queue-worker-duration/">
<span class="md-ellipsis">
    Add line in .env file for default worker queue duration (version &lt; 1.7.0)
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Upgrading_Codabench/Uncomment-a-line-in-your-.env-file/">
<span class="md-ellipsis">
    Uncomment a line in your .env file (version &lt; 1.8.0)
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Upgrading_Codabench/Rebuilding-all-docker-images/">
<span class="md-ellipsis">
    Rebuilding all docker images (version &lt; 1.9.2)
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Upgrading_Codabench/Move-the-last-storage_inconsistency-files-from--logs-folder-to--var-logs--folder/">
<span class="md-ellipsis">
    Move the latest storage_inconsistency files from the logs folder to var/logs (version &lt; 1.12.0)
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Upgrading_Codabench/Submissions-and-Participants-Counts/">
<span class="md-ellipsis">
    Submissions and Participants count (version &lt; 1.14.0)
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Upgrading_Codabench/Homepage-counters/">
<span class="md-ellipsis">
    Homepage Counters (version &lt; 1.15.0)
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Upgrading_Codabench/User-removal/">
<span class="md-ellipsis">
    User Removal (version &lt; 1.17.0)
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Upgrading_Codabench/Database-size-fixes/">
<span class="md-ellipsis">
    Database size fix (version &lt; 1.18.0)
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_5" type="checkbox">
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
<span class="md-ellipsis">
    Newsletters Archive
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
            Newsletters Archive
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Newsletters_Archive/CodaLab-in-2024/">
<span class="md-ellipsis">
    2024
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_6" type="checkbox">
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../Contribute/">
<span class="md-ellipsis">
    How you can contribue
    
  </span>
</a>
<label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
            How you can contribue
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Contribute/contributing/">
<span class="md-ellipsis">
    Contributing
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Project_CodaBench_FAQ/">
<span class="md-ellipsis">
    FAQ
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../contact-us/">
<span class="md-ellipsis">
    Contact Us
    
  </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#overview">
<span class="md-ellipsis">
      Overview
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#preliminary-steps">
<span class="md-ellipsis">
      Preliminary steps
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#modify-env-file-configuration">
<span class="md-ellipsis">
      Modify .env file configuration
    </span>
</a>
<nav aria-label="Modify .env file configuration" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#submissions-endpoint">
<span class="md-ellipsis">
      Submissions endpoint
    </span>
</a>
<nav aria-label="Submissions endpoint" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#using-an-ip-address">
<span class="md-ellipsis">
      Using an IP address
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#using-a-domain-name-dns">
<span class="md-ellipsis">
      Using a domain name (DNS)
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#change-default-usernames-and-passwords">
<span class="md-ellipsis">
      Change default usernames and passwords
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#open-access-permissions-for-following-port-number">
<span class="md-ellipsis">
      Open Access Permissions for following port number
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#modify-django-related-configuration">
<span class="md-ellipsis">
      Modify django-related configuration
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#start-service">
<span class="md-ellipsis">
      Start service
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#set-public-bucket-policy-to-readwrite">
<span class="md-ellipsis">
      Set public bucket policy to read/write
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#checkout-the-log-of-the-specified-container">
<span class="md-ellipsis">
      Checkout the log of the specified container
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#stop-service">
<span class="md-ellipsis">
      Stop service
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#disabling-docker-containers-on-production">
<span class="md-ellipsis">
      Disabling docker containers on production
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#link-compute-workers-to-default-queue">
<span class="md-ellipsis">
      Link compute workers to default queue
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#personalize-main-banner">
<span class="md-ellipsis">
      Personalize Main Banner
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#frequently-asked-questions-faqs">
<span class="md-ellipsis">
      Frequently asked questions (FAQs)
    </span>
</a>
<nav aria-label="Frequently asked questions (FAQs)" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#invalid-http-method">
<span class="md-ellipsis">
      Invalid HTTP method
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#missing-static-resources-cssjs">
<span class="md-ellipsis">
      Missing static resources (css/js)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cors-error-could-not-upload-bundle">
<span class="md-ellipsis">
      CORS Error (could not upload bundle)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#display-logos-error-logos-dont-upload-from-minio">
<span class="md-ellipsis">
      Display logos error: logos don't upload from minio:
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#compute-worker-execution-with-insufficient-privileges">
<span class="md-ellipsis">
      Compute worker execution with insufficient privileges
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#securing-codabench-and-minio">
<span class="md-ellipsis">
      Securing Codabench and Minio
    </span>
</a>
<nav aria-label="Securing Codabench and Minio" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#secure-minio-with-a-reverse-proxy">
<span class="md-ellipsis">
      Secure Minio with a reverse proxy
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#secure-minio-on-the-same-server-as-codabench-simpler">
<span class="md-ellipsis">
      Secure Minio on the same server as codabench (simpler)
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#workaround-minio-and-django-on-the-same-machine-with-only-the-port-443-opened-to-the-external-network">
<span class="md-ellipsis">
      Workaround: MinIO and Django on the same machine with only the port 443 opened to the external network.
    </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/codalab/codabench/documentation/docs/Developers_and_Administrators/How-to-deploy-Codabench-on-your-server.md" rel="edit" title="Edit this page">
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"></path></svg>
</a>
<a class="md-content__button md-icon" href="https://github.com/codalab/codabench/documentation/docs/Developers_and_Administrators/How-to-deploy-Codabench-on-your-server.md" title="View source of this page">
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"></path></svg>
</a>
<h1>How to Deploy a Server</h1>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">¶</a></h2>
<p>This document focuses on how to deploy the current project to the local machine or server you are on.</p>
<h2 id="preliminary-steps">Preliminary steps<a class="headerlink" href="#preliminary-steps" title="Permanent link">¶</a></h2>
<p>As for the <a href="../Codabench-Installation/">minimal local installation</a>, you first need to:</p>
<ol>
<li>
<p>Install docker and docker-compose (see <a href="../Codabench-Installation/#pre-requisites">instructions</a>)</p>
</li>
<li>
<p>Clone Codabench repository:</p>
</li>
</ol>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-0-1"><a href="#__codelineno-0-1" id="__codelineno-0-1" name="__codelineno-0-1"></a>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/codalab/codabench
</span></code></pre></div>
<h2 id="modify-env-file-configuration">Modify .env file configuration<a class="headerlink" href="#modify-env-file-configuration" title="Permanent link">¶</a></h2>
<p>Then you need to modify the <code>.env</code> file with the relevant settings. This step is critical to have a working and secure deployment.</p>
<ul>
<li>Go to the folder where codabench is located (<code>cd codabench</code>)
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a href="#__codelineno-1-1" id="__codelineno-1-1" name="__codelineno-1-1"></a>cp<span class="w"> </span>.env_sample<span class="w"> </span>.env
</span></code></pre></div></li>
</ul>
<p>Then edit the variables inside the <code>.env</code> file.</p>
<h3 id="submissions-endpoint">Submissions endpoint<a class="headerlink" href="#submissions-endpoint" title="Permanent link">¶</a></h3>
<p>For an online deployment, you'll need to fill in the IP address or domain name in some environment variables.</p>
<h4 id="using-an-ip-address">Using an IP address<a class="headerlink" href="#using-an-ip-address" title="Permanent link">¶</a></h4>
<p>b) For an online deployment using IP address:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To get the IP address of the machine. You can use one of the following commands:</p>
<ul>
<li><code>ifconfig -a</code></li>
<li><code>ip addr</code></li>
<li><code>ip a</code></li>
<li><code>hostname -I | awk '{print $1}'</code></li>
<li><code>nmcli -p device show</code></li>
</ul>
</div>
<p>Replace the value of IP address in the following environment variables according to your infrastructure configuration:</p>
<div class="language-ini highlight"><span class="filename">.env</span><pre><span></span><code><span id="__span-2-1"><a href="#__codelineno-2-1" id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="na">SUBMISSIONS_API_URL</span><span class="o">=</span><span class="s">https://&lt;IP ADDRESS&gt;/api</span>
</span><span id="__span-2-2"><a href="#__codelineno-2-2" id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="na">DOMAIN_NAME</span><span class="o">=</span><span class="s">&lt;IP ADDRESS&gt;:80</span>
</span><span id="__span-2-3"><a href="#__codelineno-2-3" id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="na">AWS_S3_ENDPOINT_URL</span><span class="o">=</span><span class="s">http://&lt;IP ADDRESS&gt;/</span>
</span></code></pre></div>
<h4 id="using-a-domain-name-dns">Using a domain name (DNS)<a class="headerlink" href="#using-a-domain-name-dns" title="Permanent link">¶</a></h4>
<div class="language-ini highlight"><span class="filename">.env</span><pre><span></span><code><span id="__span-3-1"><a href="#__codelineno-3-1" id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="na">SUBMISSIONS_API_URL</span><span class="o">=</span><span class="s">https://yourdomain.com/api</span>
</span><span id="__span-3-2"><a href="#__codelineno-3-2" id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="na">DOMAIN_NAME</span><span class="o">=</span><span class="s">yourdomain.com</span>
</span><span id="__span-3-3"><a href="#__codelineno-3-3" id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="na">AWS_S3_ENDPOINT_URL</span><span class="o">=</span><span class="s">https://yourdomain.com</span>
</span></code></pre></div>
<div class="admonition tip">
<p class="admonition-title">If you are deploying on an azure machine, then AWS_S3_ENDPOINT_URL needs to be set to an IP address that is accessible on the external network</p>
</div>
<h3 id="change-default-usernames-and-passwords">Change default usernames and passwords<a class="headerlink" href="#change-default-usernames-and-passwords" title="Permanent link">¶</a></h3>
<p>Set up new usernames and passwords:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a href="#__codelineno-4-1" id="__codelineno-4-1" name="__codelineno-4-1"></a>DB_USERNAME=postgres
</span><span id="__span-4-2"><a href="#__codelineno-4-2" id="__codelineno-4-2" name="__codelineno-4-2"></a>DB_PASSWORD=postgres
</span><span id="__span-4-3"><a href="#__codelineno-4-3" id="__codelineno-4-3" name="__codelineno-4-3"></a>[...]
</span><span id="__span-4-4"><a href="#__codelineno-4-4" id="__codelineno-4-4" name="__codelineno-4-4"></a>RABBITMQ_DEFAULT_USER=rabbit-username
</span><span id="__span-4-5"><a href="#__codelineno-4-5" id="__codelineno-4-5" name="__codelineno-4-5"></a>RABBITMQ_DEFAULT_PASS=rabbit-password-you-should-change
</span><span id="__span-4-6"><a href="#__codelineno-4-6" id="__codelineno-4-6" name="__codelineno-4-6"></a>[...]
</span><span id="__span-4-7"><a href="#__codelineno-4-7" id="__codelineno-4-7" name="__codelineno-4-7"></a>FLOWER_BASIC_AUTH=root:password-you-should-change
</span><span id="__span-4-8"><a href="#__codelineno-4-8" id="__codelineno-4-8" name="__codelineno-4-8"></a>[...]
</span><span id="__span-4-9"><a href="#__codelineno-4-9" id="__codelineno-4-9" name="__codelineno-4-9"></a>#EMAIL_HOST_USER=user
</span><span id="__span-4-10"><a href="#__codelineno-4-10" id="__codelineno-4-10" name="__codelineno-4-10"></a>#EMAIL_HOST_PASSWORD=pass
</span><span id="__span-4-11"><a href="#__codelineno-4-11" id="__codelineno-4-11" name="__codelineno-4-11"></a>[...]
</span><span id="__span-4-12"><a href="#__codelineno-4-12" id="__codelineno-4-12" name="__codelineno-4-12"></a>MINIO_ACCESS_KEY=testkey
</span><span id="__span-4-13"><a href="#__codelineno-4-13" id="__codelineno-4-13" name="__codelineno-4-13"></a>MINIO_SECRET_KEY=testsecret
</span><span id="__span-4-14"><a href="#__codelineno-4-14" id="__codelineno-4-14" name="__codelineno-4-14"></a># or
</span><span id="__span-4-15"><a href="#__codelineno-4-15" id="__codelineno-4-15" name="__codelineno-4-15"></a>AWS_ACCESS_KEY_ID=testkey
</span><span id="__span-4-16"><a href="#__codelineno-4-16" id="__codelineno-4-16" name="__codelineno-4-16"></a>AWS_SECRET_ACCESS_KEY=testsecret
</span></code></pre></div>
<div class="admonition warning">
<p class="admonition-title">It is very important to set up an SSL certificate for Public deployement</p>
</div>
<h2 id="open-access-permissions-for-following-port-number">Open Access Permissions for following port number<a class="headerlink" href="#open-access-permissions-for-following-port-number" title="Permanent link">¶</a></h2>
<p>If you are deploying on a Linux server, which usually has a firewall, you need to open access permissions to the following port numbers</p>
<ul>
<li><code>5672</code>: rabbit mq port</li>
<li><code>8000</code>: django port</li>
<li><code>9000</code>: minio port</li>
</ul>
<h2 id="modify-django-related-configuration">Modify django-related configuration<a class="headerlink" href="#modify-django-related-configuration" title="Permanent link">¶</a></h2>
<ul>
<li>Go to the folder where codabench is located</li>
<li>Go to the settings directory and modify <code>base.py</code> file<ul>
<li><code>cd src/settings/</code></li>
<li><code>nano base.py</code></li>
</ul>
</li>
<li>Change the value of <code>DEBUG</code> to <code>True</code><ul>
<li><code>DEBUG = os.environ.get("DEBUG", True)</code></li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">If DEBUG is not set to true, then you will not be able to load to the static resource file</p>
</div>
<ul>
<li>Comment out the following code
<div class="language-py highlight"><pre><span></span><code><span id="__span-5-1"><a href="#__codelineno-5-1" id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="c1"># =============================================================================</span>
</span><span id="__span-5-2"><a href="#__codelineno-5-2" id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="c1"># Debug</span>
</span><span id="__span-5-3"><a href="#__codelineno-5-3" id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="c1"># =============================================================================</span>
</span><span id="__span-5-4"><a href="#__codelineno-5-4" id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="c1">#if DEBUG:</span>
</span><span id="__span-5-5"><a href="#__codelineno-5-5" id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="c1">#    INSTALLED_APPS += ('debug_toolbar',)</span>
</span><span id="__span-5-6"><a href="#__codelineno-5-6" id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="c1">#    MIDDLEWARE = ('debug_toolbar.middleware.DebugToolbarMiddleware',</span>
</span><span id="__span-5-7"><a href="#__codelineno-5-7" id="__codelineno-5-7" name="__codelineno-5-7"></a><span class="c1">#                  'querycount.middleware.QueryCountMiddleware',</span>
</span><span id="__span-5-8"><a href="#__codelineno-5-8" id="__codelineno-5-8" name="__codelineno-5-8"></a><span class="c1">#                  ) + MIDDLEWARE  # we want Debug Middleware at the top</span>
</span><span id="__span-5-9"><a href="#__codelineno-5-9" id="__codelineno-5-9" name="__codelineno-5-9"></a><span class="c1">#    # tricks to have debug toolbar when developing with docker</span>
</span><span id="__span-5-10"><a href="#__codelineno-5-10" id="__codelineno-5-10" name="__codelineno-5-10"></a><span class="c1">#</span>
</span><span id="__span-5-11"><a href="#__codelineno-5-11" id="__codelineno-5-11" name="__codelineno-5-11"></a><span class="c1">#    INTERNAL_IPS = ['127.0.0.1']</span>
</span><span id="__span-5-12"><a href="#__codelineno-5-12" id="__codelineno-5-12" name="__codelineno-5-12"></a><span class="c1">#</span>
</span><span id="__span-5-13"><a href="#__codelineno-5-13" id="__codelineno-5-13" name="__codelineno-5-13"></a><span class="c1">#    import socket</span>
</span><span id="__span-5-14"><a href="#__codelineno-5-14" id="__codelineno-5-14" name="__codelineno-5-14"></a><span class="c1">#</span>
</span><span id="__span-5-15"><a href="#__codelineno-5-15" id="__codelineno-5-15" name="__codelineno-5-15"></a><span class="c1">#    try:</span>
</span><span id="__span-5-16"><a href="#__codelineno-5-16" id="__codelineno-5-16" name="__codelineno-5-16"></a><span class="c1">#        INTERNAL_IPS.append(socket.gethostbyname(socket.gethostname())[:-1])</span>
</span><span id="__span-5-17"><a href="#__codelineno-5-17" id="__codelineno-5-17" name="__codelineno-5-17"></a><span class="c1">#    except socket.gaierror:</span>
</span><span id="__span-5-18"><a href="#__codelineno-5-18" id="__codelineno-5-18" name="__codelineno-5-18"></a><span class="c1">#        pass</span>
</span><span id="__span-5-19"><a href="#__codelineno-5-19" id="__codelineno-5-19" name="__codelineno-5-19"></a><span class="c1">#</span>
</span><span id="__span-5-20"><a href="#__codelineno-5-20" id="__codelineno-5-20" name="__codelineno-5-20"></a><span class="c1">#    QUERYCOUNT = {</span>
</span><span id="__span-5-21"><a href="#__codelineno-5-21" id="__codelineno-5-21" name="__codelineno-5-21"></a><span class="c1">#        'IGNORE_REQUEST_PATTERNS': [</span>
</span><span id="__span-5-22"><a href="#__codelineno-5-22" id="__codelineno-5-22" name="__codelineno-5-22"></a><span class="c1">#            r'^/admin/',</span>
</span><span id="__span-5-23"><a href="#__codelineno-5-23" id="__codelineno-5-23" name="__codelineno-5-23"></a><span class="c1">#            r'^/static/',</span>
</span><span id="__span-5-24"><a href="#__codelineno-5-24" id="__codelineno-5-24" name="__codelineno-5-24"></a><span class="c1">#        ]</span>
</span><span id="__span-5-25"><a href="#__codelineno-5-25" id="__codelineno-5-25" name="__codelineno-5-25"></a><span class="c1">#    }</span>
</span><span id="__span-5-26"><a href="#__codelineno-5-26" id="__codelineno-5-26" name="__codelineno-5-26"></a><span class="c1">#</span>
</span><span id="__span-5-27"><a href="#__codelineno-5-27" id="__codelineno-5-27" name="__codelineno-5-27"></a><span class="c1">#    DEBUG_TOOLBAR_CONFIG = {</span>
</span><span id="__span-5-28"><a href="#__codelineno-5-28" id="__codelineno-5-28" name="__codelineno-5-28"></a><span class="c1">#        "SHOW_TOOLBAR_CALLBACK": lambda request: True</span>
</span><span id="__span-5-29"><a href="#__codelineno-5-29" id="__codelineno-5-29" name="__codelineno-5-29"></a><span class="c1">#    }</span>
</span></code></pre></div></li>
</ul>
<h2 id="start-service">Start service<a class="headerlink" href="#start-service" title="Permanent link">¶</a></h2>
<ul>
<li>Execute command <code>docker compose up -d</code></li>
<li>Check if the service is started properly <code>docker compose ps</code></li>
</ul>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-6-1"><a href="#__codelineno-6-1" id="__codelineno-6-1" name="__codelineno-6-1"></a>codabench_compute_worker_1<span class="w">   </span><span class="s2">"bash -c 'watchmedo …"</span><span class="w">   </span>running<span class="w">      </span>
</span><span id="__span-6-2"><a href="#__codelineno-6-2" id="__codelineno-6-2" name="__codelineno-6-2"></a>codabench_caddy_1<span class="w">            </span><span class="s2">"/bin/parent caddy -…"</span><span class="w">   </span>running<span class="w">      </span><span class="m">0</span>.0.0.0:80-&gt;80/tcp,<span class="w"> </span>:::80-&gt;80/tcp,<span class="w"> </span><span class="m">0</span>.0.0.0:443-&gt;443/tcp,<span class="w"> </span>:::443-&gt;443/tcp,<span class="w"> </span><span class="m">2015</span>/tcp
</span><span id="__span-6-3"><a href="#__codelineno-6-3" id="__codelineno-6-3" name="__codelineno-6-3"></a>codabench_site_worker_1<span class="w">      </span><span class="s2">"bash -c 'watchmedo …"</span><span class="w">   </span>running<span class="w">      </span>
</span><span id="__span-6-4"><a href="#__codelineno-6-4" id="__codelineno-6-4" name="__codelineno-6-4"></a>codabench_django_1<span class="w">           </span><span class="s2">"bash -c 'cd /app/sr…"</span><span class="w">   </span>running<span class="w">      </span><span class="m">0</span>.0.0.0:8000-&gt;8000/tcp,<span class="w"> </span>:::8000-&gt;8000/tcp
</span><span id="__span-6-5"><a href="#__codelineno-6-5" id="__codelineno-6-5" name="__codelineno-6-5"></a>codabench_flower_1<span class="w">           </span><span class="s2">"flower"</span><span class="w">                 </span>restarting<span class="w">   </span>
</span><span id="__span-6-6"><a href="#__codelineno-6-6" id="__codelineno-6-6" name="__codelineno-6-6"></a>codabench_rabbit_1<span class="w">           </span><span class="s2">"docker-entrypoint.s…"</span><span class="w">   </span>running<span class="w">      </span><span class="m">4369</span>/tcp,<span class="w"> </span><span class="m">5671</span>/tcp,<span class="w"> </span><span class="m">0</span>.0.0.0:5672-&gt;5672/tcp,<span class="w"> </span>:::5672-&gt;5672/tcp,<span class="w"> </span><span class="m">15671</span>/tcp,<span class="w"> </span><span class="m">25672</span>/tcp,<span class="w"> </span><span class="m">0</span>.0.0.0:15672-&gt;15672/tcp,<span class="w"> </span>:::15672-&gt;15672/tcp
</span><span id="__span-6-7"><a href="#__codelineno-6-7" id="__codelineno-6-7" name="__codelineno-6-7"></a>codabench_minio_1<span class="w">            </span><span class="s2">"/usr/bin/docker-ent…"</span><span class="w">   </span>running<span class="w">      </span><span class="m">0</span>.0.0.0:9000-&gt;9000/tcp,<span class="w"> </span>:::9000-&gt;9000/tcp
</span><span id="__span-6-8"><a href="#__codelineno-6-8" id="__codelineno-6-8" name="__codelineno-6-8"></a>codabench_db_1<span class="w">               </span><span class="s2">"docker-entrypoint.s…"</span><span class="w">   </span>running<span class="w">      </span><span class="m">0</span>.0.0.0:5432-&gt;5432/tcp,<span class="w"> </span>:::5432-&gt;5432/tcp
</span><span id="__span-6-9"><a href="#__codelineno-6-9" id="__codelineno-6-9" name="__codelineno-6-9"></a>codabench_builder_1<span class="w">          </span><span class="s2">"docker-entrypoint.s…"</span><span class="w">   </span>running<span class="w">      </span>
</span><span id="__span-6-10"><a href="#__codelineno-6-10" id="__codelineno-6-10" name="__codelineno-6-10"></a>codabench_redis_1<span class="w">            </span><span class="s2">"docker-entrypoint.s…"</span><span class="w">   </span>running<span class="w">      </span><span class="m">0</span>.0.0.0:6379-&gt;6379/tcp,<span class="w"> </span>:::6379-&gt;6379/tcp
</span></code></pre></div>
<ul>
<li>Create the required tables in the database: <code>docker compose exec django ./manage.py migrate</code></li>
<li>Generate the required static resource files: <code>docker compose exec django ./manage.py collectstatic --noinput</code></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can generate mock data with <code>docker compose exec django ./manage.py generate_data</code> if you want to test the website. However, it is not recomended to do that on an installation that you intend to use for Production</p>
</div>
<h2 id="set-public-bucket-policy-to-readwrite">Set public bucket policy to read/write<a class="headerlink" href="#set-public-bucket-policy-to-readwrite" title="Permanent link">¶</a></h2>
<p>This can easily be done via the minio web console (local URL: minio:9000)
<a class="glightbox" data-desc-position="bottom" data-height="auto" data-type="image" data-width="auto"><img alt="minio-9000-bucketPolicy" src="../../_attachments/224348279-65fd619a-28ce-4b65-bdb1-c791508c9d21_17528513111161823.png"></a></p>
<h2 id="checkout-the-log-of-the-specified-container">Checkout the log of the specified container<a class="headerlink" href="#checkout-the-log-of-the-specified-container" title="Permanent link">¶</a></h2>
<div class="admonition tip">
<p class="admonition-title">The following commands can help you debug</p>
<ul>
<li><code>docker compose logs -f django</code> : checkout django container logs in the docker-compose service</li>
<li><code>docker compose logs -f site_worker</code> :  checkout site-worker container logs in the docker-compose service</li>
<li><code>docker compose logs -f compute_worker</code> : checkout compute-worker container logs in the docker-compose service</li>
<li><code>docker compose logs -f minio</code> : checkout minio container logs in the docker-compose service</li>
</ul>
<p>You can also use <code>docker compose logs -f</code> to get the logs of all the containers.</p>
</div>
<h2 id="stop-service">Stop service<a class="headerlink" href="#stop-service" title="Permanent link">¶</a></h2>
<ul>
<li>Execute command <code>docker compose down --volumes</code></li>
</ul>
<h2 id="disabling-docker-containers-on-production">Disabling docker containers on production<a class="headerlink" href="#disabling-docker-containers-on-production" title="Permanent link">¶</a></h2>
<p>To override settings on your production server, create a <code>docker-compose.override.yml</code> in the <code>codabench</code> root directory.
If on your production server, you are using remote MinIO or another cloud storage provider then you don't need <strong>minio</strong> container.
If you have already buckets available for your s3 storage, you don't need <strong>createbuckets</strong> container.
Therefore, you should disable minio and createbuckets containers. You may also want to disable the compute worker that is contained in the main server compute, to keep only remote compute workers.</p>
<p>Add this to your <code>docker-compose.override.yml</code>:</p>
<div class="language-yaml highlight"><span class="filename">docker-compose.override.yml</span><pre><span></span><code><span id="__span-7-1"><a href="#__codelineno-7-1" id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="s">'3.4'</span>
</span><span id="__span-7-2"><a href="#__codelineno-7-2" id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="nt">services</span><span class="p">:</span>
</span><span id="__span-7-3"><a href="#__codelineno-7-3" id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="w">  </span><span class="nt">compute_worker</span><span class="p">:</span>
</span><span id="__span-7-4"><a href="#__codelineno-7-4" id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="w">    </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="s">"/bin/true"</span>
</span><span id="__span-7-5"><a href="#__codelineno-7-5" id="__codelineno-7-5" name="__codelineno-7-5"></a><span class="w">  </span><span class="nt">minio</span><span class="p">:</span>
</span><span id="__span-7-6"><a href="#__codelineno-7-6" id="__codelineno-7-6" name="__codelineno-7-6"></a><span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="s">"no"</span>
</span><span id="__span-7-7"><a href="#__codelineno-7-7" id="__codelineno-7-7" name="__codelineno-7-7"></a><span class="w">    </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="s">"/bin/true"</span>
</span><span id="__span-7-8"><a href="#__codelineno-7-8" id="__codelineno-7-8" name="__codelineno-7-8"></a><span class="w">  </span><span class="nt">createbuckets</span><span class="p">:</span>
</span><span id="__span-7-9"><a href="#__codelineno-7-9" id="__codelineno-7-9" name="__codelineno-7-9"></a><span class="w">    </span><span class="nt">entrypoint</span><span class="p">:</span><span class="w"> </span><span class="s">"/bin/true"</span>
</span><span id="__span-7-10"><a href="#__codelineno-7-10" id="__codelineno-7-10" name="__codelineno-7-10"></a><span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="s">"no"</span>
</span><span id="__span-7-11"><a href="#__codelineno-7-11" id="__codelineno-7-11" name="__codelineno-7-11"></a><span class="w">    </span><span class="nt">depends_on</span><span class="p">:</span>
</span><span id="__span-7-12"><a href="#__codelineno-7-12" id="__codelineno-7-12" name="__codelineno-7-12"></a><span class="w">      </span><span class="nt">minio</span><span class="p">:</span>
</span><span id="__span-7-13"><a href="#__codelineno-7-13" id="__codelineno-7-13" name="__codelineno-7-13"></a><span class="w">        </span><span class="nt">condition</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">service_started</span>
</span></code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This will force the following container from exiting on start:</p>
<ul>
<li>Compute Worker</li>
<li>MinIO</li>
<li>CreateBuckets</li>
</ul>
<p>If you need one of these then remove the corresponding lines from the file before launching</p>
</div>
<h2 id="link-compute-workers-to-default-queue">Link compute workers to default queue<a class="headerlink" href="#link-compute-workers-to-default-queue" title="Permanent link">¶</a></h2>
<p>The default queue of the platform runs all jobs, except when a custom queue is specified by the competition or benchmark.
By default, the compute worker of the default queue is a docker container run by the main VM. If your server is used by many users and receives several submissions per day, it is recommended to use separate compute workers and to link them to the default queue.</p>
<p>To set up a compute worker, follow this <a href="../../Organizers/Running_a_benchmark/Compute-Worker-Management---Setup/">guide</a></p>
<p>In the <code>.env</code> file of the compute worker, the <code>BROKER_URL</code> should reflect settings of the <code>.env</code> file of the platform:</p>
<div class="language-bash highlight"><span class="filename">.env</span><pre><span></span><code><span id="__span-8-1"><a href="#__codelineno-8-1" id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="nv">BROKER_URL</span><span class="o">=</span>pyamqp://&lt;RABBITMQ_DEFAULT_USER&gt;:&lt;RABBITMQ_DEFAULT_PASS&gt;@&lt;DOMAIN_NAME&gt;:&lt;RABBITMQ_PORT&gt;/
</span><span id="__span-8-2"><a href="#__codelineno-8-2" id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="nv">HOST_DIRECTORY</span><span class="o">=</span>/codabench
</span><span id="__span-8-3"><a href="#__codelineno-8-3" id="__codelineno-8-3" name="__codelineno-8-3"></a><span class="nv">BROKER_USE_SSL</span><span class="o">=</span>True
</span></code></pre></div>
<h2 id="personalize-main-banner">Personalize Main Banner<a class="headerlink" href="#personalize-main-banner" title="Permanent link">¶</a></h2>
<p>The main banner on the Codabench home page shows 3 organization logos</p>
<ul>
<li><a href="https://www.lisn.upsaclay.fr/">LISN</a></li>
<li><a href="https://www.universite-paris-saclay.fr/">Université Paris-Saclay</a></li>
<li><a href="https://www.cnrs.fr/">CNRS</a>
<a class="glightbox" data-desc-position="bottom" data-height="auto" data-type="image" data-width="auto"><img alt="" src="../_attachments/6ec1780d-227f-472e-84fd-1d08847a24b8_1753436644389027.jpg"></a></li>
</ul>
<p>You can update these by:</p>
<ol>
<li>Replacing the logos in <code>src/static/img/</code> folder</li>
<li>Updating the code in <code>src/templates/pages/home.html</code> to point to the right websites of your organizations</li>
</ol>
<h2 id="frequently-asked-questions-faqs">Frequently asked questions (FAQs)<a class="headerlink" href="#frequently-asked-questions-faqs" title="Permanent link">¶</a></h2>
<h3 id="invalid-http-method">Invalid HTTP method<a class="headerlink" href="#invalid-http-method" title="Permanent link">¶</a></h3>
<p>Exception detail (by using <code>docker logs -f codabench_django_1</code>)</p>
<div class="language-java highlight"><pre><span></span><code><span id="__span-9-1"><a href="#__codelineno-9-1" id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="n">Traceback</span><span class="w"> </span><span class="p">(</span><span class="n">most</span><span class="w"> </span><span class="n">recent</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="n">last</span><span class="p">):</span>
</span><span id="__span-9-2"><a href="#__codelineno-9-2" id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="w">  </span><span class="n">File</span><span class="w"> </span><span class="s">"/usr/local/lib/python3.8/site-packages/uvicorn/protocols/http/httptools_impl.py"</span><span class="p">,</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="mi">165</span><span class="p">,</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">data_received</span>
</span><span id="__span-9-3"><a href="#__codelineno-9-3" id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="w">    </span><span class="n">self</span><span class="p">.</span><span class="na">parser</span><span class="p">.</span><span class="na">feed_data</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="__span-9-4"><a href="#__codelineno-9-4" id="__codelineno-9-4" name="__codelineno-9-4"></a><span class="w">  </span><span class="n">File</span><span class="w"> </span><span class="s">"httptools/parser/parser.pyx"</span><span class="p">,</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="mi">193</span><span class="p">,</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">httptools</span><span class="p">.</span><span class="na">parser</span><span class="p">.</span><span class="na">parser</span><span class="p">.</span><span class="na">HttpParser</span><span class="p">.</span><span class="na">feed_data</span>
</span><span id="__span-9-5"><a href="#__codelineno-9-5" id="__codelineno-9-5" name="__codelineno-9-5"></a><span class="n">httptools</span><span class="p">.</span><span class="na">parser</span><span class="p">.</span><span class="na">errors</span><span class="p">.</span><span class="na">HttpParserInvalidMethodError</span><span class="p">:</span><span class="w"> </span><span class="n">invalid</span><span class="w"> </span><span class="n">HTTP</span><span class="w"> </span><span class="n">method</span>
</span><span id="__span-9-6"><a href="#__codelineno-9-6" id="__codelineno-9-6" name="__codelineno-9-6"></a><span class="o">[</span><span class="mi">2021</span><span class="o">-</span><span class="mo">02</span><span class="o">-</span><span class="mi">09</span><span class="w"> </span><span class="mo">06</span><span class="p">:</span><span class="mi">58</span><span class="p">:</span><span class="mi">58</span><span class="w"> </span><span class="o">+</span><span class="mo">0000</span><span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="mi">14</span><span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="n">WARNING</span><span class="o">]</span><span class="w"> </span><span class="n">Invalid</span><span class="w"> </span><span class="n">HTTP</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">received</span><span class="p">.</span>
</span><span id="__span-9-7"><a href="#__codelineno-9-7" id="__codelineno-9-7" name="__codelineno-9-7"></a><span class="nf">Traceback</span><span class="w"> </span><span class="p">(</span><span class="n">most</span><span class="w"> </span><span class="n">recent</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="n">last</span><span class="p">):</span>
</span><span id="__span-9-8"><a href="#__codelineno-9-8" id="__codelineno-9-8" name="__codelineno-9-8"></a><span class="w">  </span><span class="n">File</span><span class="w"> </span><span class="s">"/usr/local/lib/python3.8/site-packages/uvicorn/protocols/http/httptools_impl.py"</span><span class="p">,</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="mi">165</span><span class="p">,</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">data_received</span>
</span><span id="__span-9-9"><a href="#__codelineno-9-9" id="__codelineno-9-9" name="__codelineno-9-9"></a><span class="w">    </span><span class="n">self</span><span class="p">.</span><span class="na">parser</span><span class="p">.</span><span class="na">feed_data</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="__span-9-10"><a href="#__codelineno-9-10" id="__codelineno-9-10" name="__codelineno-9-10"></a><span class="w">  </span><span class="n">File</span><span class="w"> </span><span class="s">"httptools/parser/parser.pyx"</span><span class="p">,</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="mi">193</span><span class="p">,</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">httptools</span><span class="p">.</span><span class="na">parser</span><span class="p">.</span><span class="na">parser</span><span class="p">.</span><span class="na">HttpParser</span><span class="p">.</span><span class="na">feed_data</span>
</span><span id="__span-9-11"><a href="#__codelineno-9-11" id="__codelineno-9-11" name="__codelineno-9-11"></a><span class="n">httptools</span><span class="p">.</span><span class="na">parser</span><span class="p">.</span><span class="na">errors</span><span class="p">.</span><span class="na">HttpParserInvalidMethodError</span><span class="p">:</span><span class="w"> </span><span class="n">invalid</span><span class="w"> </span><span class="n">HTTP</span><span class="w"> </span><span class="n">method</span>
</span></code></pre></div>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-type="image" data-width="auto"><img alt="image" src="../../_attachments/113236785-28cc4900-92d8-11eb-8b2d-bbec05090788_17528513112217138.png"></a></p>
<p>Solution</p>
<ul>
<li>
<p>First, modify the <code>.env</code> file and set <code>DJANGO_SETTINGS_MODULE=settings.develop</code></p>
</li>
<li>
<p>Then, restart services by using following docker-compose command</p>
</li>
</ul>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-10-1"><a href="#__codelineno-10-1" id="__codelineno-10-1" name="__codelineno-10-1"></a>docker<span class="w"> </span>compose<span class="w"> </span>down<span class="w"> </span>--volumes
</span><span id="__span-10-2"><a href="#__codelineno-10-2" id="__codelineno-10-2" name="__codelineno-10-2"></a>docker<span class="w"> </span>compose<span class="w"> </span>up<span class="w"> </span>-d
</span></code></pre></div>
<h3 id="missing-static-resources-cssjs">Missing static resources (css/js)<a class="headerlink" href="#missing-static-resources-cssjs" title="Permanent link">¶</a></h3>
<p>Solution: Change the value of the <code>DEBUG</code> parameter to <code>True</code></p>
<ul>
<li><code>nano competitions-v2/src/settings/base.py</code></li>
<li><code>DEBUG = os.environ.get("DEBUG", True)</code></li>
</ul>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-type="image" data-width="auto"><img alt="image" src="../../_attachments/113236839-44375400-92d8-11eb-9c12-9d8654423662_17528513112593784.png"></a></p>
<ul>
<li>Also comment out the following code in <code>base.py</code></li>
</ul>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-type="image" data-width="auto"><img alt="image" src="../../_attachments/113236871-544f3380-92d8-11eb-86bf-05ffb9fac5d2_17528513120945034.png"></a></p>
<h3 id="cors-error-could-not-upload-bundle">CORS Error (could not upload bundle)<a class="headerlink" href="#cors-error-could-not-upload-bundle" title="Permanent link">¶</a></h3>
<p>Exception detail (by checkout google develop tools)</p>
<div class="language-java highlight"><pre><span></span><code><span id="__span-11-1"><a href="#__codelineno-11-1" id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="n">botocore</span><span class="p">.</span><span class="na">exceptions</span><span class="p">.</span><span class="na">EndpointConnectionError</span><span class="p">:</span><span class="w"> </span><span class="n">Could</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">connect</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">endpoint</span><span class="w"> </span><span class="n">URL</span><span class="p">:</span><span class="w"> </span><span class="s">"[http://docker.for.mac.localhost:9000/private/dataset/2021-02-18-1613624215/24533cfc523e/competition.zip](http://docker.for.mac.localhost:9000/private/dataset/2021-02-18-1613624215/24533cfc523e/competition.zip)"</span>
</span></code></pre></div>
<p>Solution: Set AWS_S3_ENDPOINT_URL to an address that is accessible to the external network</p>
<ul>
<li><code>nano codabench/.env</code></li>
</ul>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-type="image" data-width="auto"><img alt="image" src="../../_attachments/113236903-66c96d00-92d8-11eb-9186-2fac1b0a6918_17528513113931694.png"></a></p>
<p>Make sure the IP address and port number is accessible by external network, You can check this by :</p>
<ul>
<li><code>telnet {ip-address-filling-in AWS_S3_ENDPOINT_URL} {port-filling-in AWS_S3_ENDPOINT_URL}</code></li>
<li>Make sure the firewall is closed on port 9000</li>
</ul>
<div class="admonition note">
<p class="admonition-title">This problem may also be caused by a bug in MinIO, in which case you will need to follow these steps</p>
<ul>
<li>Upgrade the minio docker image to the latest version</li>
<li>Delete the previous minio directory folder in your codabench folder under <code>/var/minio</code> directory</li>
<li>Stop the current minio container</li>
<li>Delete the current minio container and the corresponding image</li>
<li>Re-execute <code>docker compose up -d</code></li>
</ul>
</div>
<h3 id="display-logos-error-logos-dont-upload-from-minio">Display logos error: logos don't upload from minio:<a class="headerlink" href="#display-logos-error-logos-dont-upload-from-minio" title="Permanent link">¶</a></h3>
<p>Check bucket policy of public minio bucket: read/write access should be allowed.</p>
<p>This can easily be done via the minio web console (local URL: minio:9000)</p>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-type="image" data-width="auto"><img alt="minio-9000-bucketPolicy" src="../../_attachments/224348279-65fd619a-28ce-4b65-bdb1-c791508c9d21_17528513111161823.png"></a></p>
<h3 id="compute-worker-execution-with-insufficient-privileges">Compute worker execution with insufficient privileges<a class="headerlink" href="#compute-worker-execution-with-insufficient-privileges" title="Permanent link">¶</a></h3>
<p>This issue may be encountered when starting a docker container in a compute worker, the problem is caused by the installation of snap docker (if you are using Ubuntu).</p>
<p>Solution</p>
<ul>
<li>Uninstall snap docker</li>
<li>Install the official version of docker</li>
</ul>
<h2 id="securing-codabench-and-minio">Securing Codabench and Minio<a class="headerlink" href="#securing-codabench-and-minio" title="Permanent link">¶</a></h2>
<p>Codabench uses <a href="https://caddyserver.com/">Caddy</a> to manage HTTPS and to secure Codabench. What you need is a valid DNS pointed towards the IP address of your instance.</p>
<h3 id="secure-minio-with-a-reverse-proxy">Secure Minio with a reverse proxy<a class="headerlink" href="#secure-minio-with-a-reverse-proxy" title="Permanent link">¶</a></h3>
<p>To secure MinIO, you should install a reverse-proxy, e.g: Nginx, and have a valid SSL certificate. Here is a tutorial sample:</p>
<p><a href="https://blog.min.io/minio-nginx-letsencrypt-certbot/">Secure MinIO with Certbot and Letsencrypt</a></p>
<p><strong>Don't forget to update your AWS_S3_ENDPOINT_URL parameter</strong></p>
<p>Update it to <code>AWS_S3_ENDPOINT_URL=https://&lt;your minio&gt;</code></p>
<h3 id="secure-minio-on-the-same-server-as-codabench-simpler">Secure Minio on the same server as codabench (simpler)<a class="headerlink" href="#secure-minio-on-the-same-server-as-codabench-simpler" title="Permanent link">¶</a></h3>
<p>Summary:</p>
<ul>
<li>Use same SSL certs from letsencrypt (certbot) but change fullchain.pem -&gt; public.crt and privkey.pem -&gt; private.key. I copied from ./certs/caddy (for django/caddy) to ./certs/minio/certs.</li>
<li>You need to change the command for minio to "server /export --certs-dir /root/.minio/certs" and not just "server /export"</li>
<li>Mount in certs:</li>
<li>Add "- ./certs/minio:/root/.minio" under the minio service's "volumes" section</li>
<li>Certs must be in /${HOME}/.minio and for dockers ends up being /root/.minio</li>
<li>Edit the .env with minio cert location:
<div class="language-bash highlight"><pre><span></span><code><span id="__span-12-1"><a href="#__codelineno-12-1" id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="nv">MINIO_CERT_FILE</span><span class="o">=</span>/root/.minio/certs/public.crt
</span><span id="__span-12-2"><a href="#__codelineno-12-2" id="__codelineno-12-2" name="__codelineno-12-2"></a><span class="nv">MINIO_KEY_FILE</span><span class="o">=</span>/root/.minio/certs/private.key
</span><span id="__span-12-3"><a href="#__codelineno-12-3" id="__codelineno-12-3" name="__codelineno-12-3"></a><span class="c1"># MINIO_CERTS_DIR=/certs/caddy # was told .pem files could work but for now separating</span>
</span><span id="__span-12-4"><a href="#__codelineno-12-4" id="__codelineno-12-4" name="__codelineno-12-4"></a><span class="nv">MINIO_CERTS_DIR</span><span class="o">=</span>/root/.minio/certs<span class="w"> </span><span class="c1"># either this or the CERT\KEY above is redundant...but it works for now.</span>
</span><span id="__span-12-5"><a href="#__codelineno-12-5" id="__codelineno-12-5" name="__codelineno-12-5"></a><span class="c1"># NOTE! if you change this port, change it in AWS_S3_ENDPOINT_URL as well</span>
</span><span id="__span-12-6"><a href="#__codelineno-12-6" id="__codelineno-12-6" name="__codelineno-12-6"></a><span class="nv">MINIO_PORT</span><span class="o">=</span><span class="m">9000</span>
</span></code></pre></div></li>
<li>Here is an example docker-compose.yml change for this:
<div class="language-bash highlight"><pre><span></span><code><span id="__span-13-1"><a href="#__codelineno-13-1" id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="w">  </span><span class="c1">#-----------------------------------------------</span>
</span><span id="__span-13-2"><a href="#__codelineno-13-2" id="__codelineno-13-2" name="__codelineno-13-2"></a><span class="w">  </span><span class="c1"># Minio local storage helper</span>
</span><span id="__span-13-3"><a href="#__codelineno-13-3" id="__codelineno-13-3" name="__codelineno-13-3"></a><span class="w">  </span><span class="c1">#-----------------------------------------------</span>
</span><span id="__span-13-4"><a href="#__codelineno-13-4" id="__codelineno-13-4" name="__codelineno-13-4"></a><span class="w">  </span>minio:
</span><span id="__span-13-5"><a href="#__codelineno-13-5" id="__codelineno-13-5" name="__codelineno-13-5"></a><span class="w">    </span>image:<span class="w"> </span>minio/minio:RELEASE.2020-10-03T02-19-42Z
</span><span id="__span-13-6"><a href="#__codelineno-13-6" id="__codelineno-13-6" name="__codelineno-13-6"></a><span class="w">    </span>command:<span class="w"> </span>server<span class="w"> </span>/export<span class="w"> </span>--certs-dir<span class="w"> </span>/root/.minio/certs
</span><span id="__span-13-7"><a href="#__codelineno-13-7" id="__codelineno-13-7" name="__codelineno-13-7"></a><span class="w">    </span>volumes:
</span><span id="__span-13-8"><a href="#__codelineno-13-8" id="__codelineno-13-8" name="__codelineno-13-8"></a><span class="w">      </span>-<span class="w"> </span>./var/minio:/export
</span><span id="__span-13-9"><a href="#__codelineno-13-9" id="__codelineno-13-9" name="__codelineno-13-9"></a><span class="w">      </span>-<span class="w"> </span>./certs/minio:/root/.minio
</span><span id="__span-13-10"><a href="#__codelineno-13-10" id="__codelineno-13-10" name="__codelineno-13-10"></a><span class="w">    </span>restart:<span class="w"> </span>unless-stopped
</span><span id="__span-13-11"><a href="#__codelineno-13-11" id="__codelineno-13-11" name="__codelineno-13-11"></a><span class="w">    </span>ports:
</span><span id="__span-13-12"><a href="#__codelineno-13-12" id="__codelineno-13-12" name="__codelineno-13-12"></a><span class="w">      </span>-<span class="w"> </span><span class="nv">$MINIO_PORT</span>:9000
</span><span id="__span-13-13"><a href="#__codelineno-13-13" id="__codelineno-13-13" name="__codelineno-13-13"></a><span class="w">    </span>env_file:<span class="w"> </span>.env
</span><span id="__span-13-14"><a href="#__codelineno-13-14" id="__codelineno-13-14" name="__codelineno-13-14"></a><span class="w">    </span>healthcheck:
</span><span id="__span-13-15"><a href="#__codelineno-13-15" id="__codelineno-13-15" name="__codelineno-13-15"></a><span class="w">      </span>test:<span class="w"> </span><span class="o">[</span><span class="s2">"CMD"</span>,<span class="w"> </span><span class="s2">"nc"</span>,<span class="w"> </span><span class="s2">"-z"</span>,<span class="w"> </span><span class="s2">"minio"</span>,<span class="w"> </span><span class="s2">"9000"</span><span class="o">]</span>
</span><span id="__span-13-16"><a href="#__codelineno-13-16" id="__codelineno-13-16" name="__codelineno-13-16"></a><span class="w">      </span>interval:<span class="w"> </span>5s
</span><span id="__span-13-17"><a href="#__codelineno-13-17" id="__codelineno-13-17" name="__codelineno-13-17"></a><span class="w">      </span>retries:<span class="w"> </span><span class="m">5</span>
</span><span id="__span-13-18"><a href="#__codelineno-13-18" id="__codelineno-13-18" name="__codelineno-13-18"></a><span class="w">  </span>createbuckets:
</span><span id="__span-13-19"><a href="#__codelineno-13-19" id="__codelineno-13-19" name="__codelineno-13-19"></a><span class="w">    </span>image:<span class="w"> </span>minio/mc
</span><span id="__span-13-20"><a href="#__codelineno-13-20" id="__codelineno-13-20" name="__codelineno-13-20"></a><span class="w">    </span>depends_on:
</span><span id="__span-13-21"><a href="#__codelineno-13-21" id="__codelineno-13-21" name="__codelineno-13-21"></a><span class="w">      </span>minio:
</span><span id="__span-13-22"><a href="#__codelineno-13-22" id="__codelineno-13-22" name="__codelineno-13-22"></a><span class="w">        </span>condition:<span class="w"> </span>service_healthy
</span><span id="__span-13-23"><a href="#__codelineno-13-23" id="__codelineno-13-23" name="__codelineno-13-23"></a><span class="w">    </span>env_file:<span class="w"> </span>.env
</span><span id="__span-13-24"><a href="#__codelineno-13-24" id="__codelineno-13-24" name="__codelineno-13-24"></a><span class="w">    </span><span class="c1"># volumes:</span>
</span><span id="__span-13-25"><a href="#__codelineno-13-25" id="__codelineno-13-25" name="__codelineno-13-25"></a><span class="w">    </span><span class="c1">#   This volume is shared with `minio`, so `z` to share it</span>
</span><span id="__span-13-26"><a href="#__codelineno-13-26" id="__codelineno-13-26" name="__codelineno-13-26"></a><span class="w">    </span><span class="c1">#   - ./var/minio:/export</span>
</span><span id="__span-13-27"><a href="#__codelineno-13-27" id="__codelineno-13-27" name="__codelineno-13-27"></a><span class="w">    </span>entrypoint:<span class="w"> </span>&gt;
</span><span id="__span-13-28"><a href="#__codelineno-13-28" id="__codelineno-13-28" name="__codelineno-13-28"></a><span class="w">      </span>/bin/sh<span class="w"> </span>-c<span class="w"> </span><span class="s2">"</span>
</span><span id="__span-13-29"><a href="#__codelineno-13-29" id="__codelineno-13-29" name="__codelineno-13-29"></a><span class="s2">      set -x;</span>
</span><span id="__span-13-30"><a href="#__codelineno-13-30" id="__codelineno-13-30" name="__codelineno-13-30"></a><span class="s2">      if [ -n \"</span><span class="nv">$MINIO_ACCESS_KEY</span><span class="s2">\" ] &amp;&amp; [ -n \"</span><span class="nv">$MINIO_SECRET_KEY</span><span class="s2">\" ] &amp;&amp; [ -n \"</span><span class="nv">$MINIO_PORT</span><span class="s2">\" ]; then</span>
</span><span id="__span-13-31"><a href="#__codelineno-13-31" id="__codelineno-13-31" name="__codelineno-13-31"></a><span class="s2">        until /usr/bin/mc config host add minio_docker https://minio:</span><span class="nv">$MINIO_PORT</span><span class="s2"> </span><span class="nv">$MINIO_ACCESS_KEY</span><span class="s2"> </span><span class="nv">$MINIO_SECRET_KEY</span><span class="s2"> &amp;&amp; break; do</span>
</span><span id="__span-13-32"><a href="#__codelineno-13-32" id="__codelineno-13-32" name="__codelineno-13-32"></a><span class="s2">          echo '...waiting...' &amp;&amp; sleep 5;</span>
</span><span id="__span-13-33"><a href="#__codelineno-13-33" id="__codelineno-13-33" name="__codelineno-13-33"></a><span class="s2">        done;</span>
</span><span id="__span-13-34"><a href="#__codelineno-13-34" id="__codelineno-13-34" name="__codelineno-13-34"></a><span class="s2">        /usr/bin/mc mb minio_docker/</span><span class="nv">$AWS_STORAGE_BUCKET_NAME</span><span class="s2"> || echo 'Bucket </span><span class="nv">$AWS_STORAGE_BUCKET_NAME</span><span class="s2"> already exists.';</span>
</span><span id="__span-13-35"><a href="#__codelineno-13-35" id="__codelineno-13-35" name="__codelineno-13-35"></a><span class="s2">        /usr/bin/mc mb minio_docker/</span><span class="nv">$AWS_STORAGE_PRIVATE_BUCKET_NAME</span><span class="s2"> || echo 'Bucket </span><span class="nv">$AWS_STORAGE_PRIVATE_BUCKET_NAME</span><span class="s2"> already exists.';</span>
</span><span id="__span-13-36"><a href="#__codelineno-13-36" id="__codelineno-13-36" name="__codelineno-13-36"></a><span class="s2">        /usr/bin/mc anonymous set download minio_docker/</span><span class="nv">$AWS_STORAGE_BUCKET_NAME</span><span class="s2">;</span>
</span><span id="__span-13-37"><a href="#__codelineno-13-37" id="__codelineno-13-37" name="__codelineno-13-37"></a><span class="s2">      else</span>
</span><span id="__span-13-38"><a href="#__codelineno-13-38" id="__codelineno-13-38" name="__codelineno-13-38"></a><span class="s2">        echo 'MINIO_ACCESS_KEY, MINIO_SECRET_KEY, or MINIO_PORT are not defined. Skipping buckets creation.';</span>
</span><span id="__span-13-39"><a href="#__codelineno-13-39" id="__codelineno-13-39" name="__codelineno-13-39"></a><span class="s2">      fi;</span>
</span><span id="__span-13-40"><a href="#__codelineno-13-40" id="__codelineno-13-40" name="__codelineno-13-40"></a><span class="s2">      exit 0;</span>
</span><span id="__span-13-41"><a href="#__codelineno-13-41" id="__codelineno-13-41" name="__codelineno-13-41"></a><span class="s2">      "</span>
</span></code></pre></div>
<a class="glightbox" data-desc-position="bottom" data-height="auto" data-type="image" data-width="auto"><img alt="image" src="../../_attachments/893b1d55-3d6e-45ed-887b-3df882c7e127_17528513131864328.jpg"></a></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Don't forget to change the entrypoint to run <strong>https</strong> and not <strong>http</strong>.</p>
</div>
<h2 id="workaround-minio-and-django-on-the-same-machine-with-only-the-port-443-opened-to-the-external-network">Workaround: MinIO and Django on the same machine with only the port 443 opened to the external network.<a class="headerlink" href="#workaround-minio-and-django-on-the-same-machine-with-only-the-port-443-opened-to-the-external-network" title="Permanent link">¶</a></h2>
<p>The S3 API signature calculation algorithm does not support proxy schemes where you host the MinIO Server API such as example.net/s3/.</p>
<p>However, we can set the same URL for minio and django site and configure a proxy for each bucket in the Caddyfile :
</p><div class="language-ini highlight"><pre><span></span><code><span id="__span-14-1"><a href="#__codelineno-14-1" id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="na">DOMAIN_NAME</span><span class="o">=</span><span class="s">https://mysite.com</span>
</span><span id="__span-14-2"><a href="#__codelineno-14-2" id="__codelineno-14-2" name="__codelineno-14-2"></a><span class="na">AWS_S3_ENDPOINT_URL</span><span class="o">=</span><span class="s">https://mysite.com</span>
</span></code></pre></div><p></p>
<p>Caddyfile : 
</p><div class="language-text highlight"><pre><span></span><code><span id="__span-15-1"><a href="#__codelineno-15-1" id="__codelineno-15-1" name="__codelineno-15-1"></a>    @dynamic {
</span><span id="__span-15-2"><a href="#__codelineno-15-2" id="__codelineno-15-2" name="__codelineno-15-2"></a>        not path /static/* /media/* /{$AWS_STORAGE_BUCKET_NAME}* /{$AWS_STORAGE_PRIVATE_BUCKET_NAME}* /minio*
</span><span id="__span-15-3"><a href="#__codelineno-15-3" id="__codelineno-15-3" name="__codelineno-15-3"></a>    }
</span><span id="__span-15-4"><a href="#__codelineno-15-4" id="__codelineno-15-4" name="__codelineno-15-4"></a>    reverse_proxy @dynamic django:8000 
</span><span id="__span-15-5"><a href="#__codelineno-15-5" id="__codelineno-15-5" name="__codelineno-15-5"></a>
</span><span id="__span-15-6"><a href="#__codelineno-15-6" id="__codelineno-15-6" name="__codelineno-15-6"></a>    @min_bucket {
</span><span id="__span-15-7"><a href="#__codelineno-15-7" id="__codelineno-15-7" name="__codelineno-15-7"></a>      path /{$AWS_STORAGE_BUCKET_NAME}* /{$AWS_STORAGE_PRIVATE_BUCKET_NAME}*
</span><span id="__span-15-8"><a href="#__codelineno-15-8" id="__codelineno-15-8" name="__codelineno-15-8"></a>    }
</span><span id="__span-15-9"><a href="#__codelineno-15-9" id="__codelineno-15-9" name="__codelineno-15-9"></a>    reverse_proxy @min_bucket minio:{$MINIO_PORT}
</span></code></pre></div><p></p>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Back to top
</button>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: Codabench Basic Installtion Guide" class="md-footer__link md-footer__link--prev" href="../Codabench-Installation/">
<div class="md-footer__button md-icon">
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</div>
<div class="md-footer__title">
<span class="md-footer__direction">
                Previous
              </span>
<div class="md-ellipsis">
                Codabench Basic Installtion Guide
              </div>
</div>
</a>
<a aria-label="Next: Administrative Procedures" class="md-footer__link md-footer__link--next" href="../Administrator-procedures/">
<div class="md-footer__title">
<span class="md-footer__direction">
                Next
              </span>
<div class="md-ellipsis">
                Administrative Procedures
              </div>
</div>
<div class="md-footer__button md-icon">
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
<div class="md-copyright__highlight">
        Apache-2.0
        
        :: <a href="https://github.com/codalab/codalab-competitions/wiki/Community-Governance" rel="noopener" target="_blank">Governance Document</a>
        
        :: <a href="https://github.com/codalab/codalab-competitions/wiki/Privacy" rel="noopener" target="_blank">Privacy Policy</a>
        
        :: <a href="https://github.com/codalab/codalab-competitions/wiki/Project_About_CodaLab" rel="noopener" target="_blank">About</a>
</div>
    
    
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
        Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "search.share", "navigation.footer", "navigation.top", "content.action.edit", "content.action.view", "navigation.expand"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"alias": true, "provider": "mike"}}</script>
<script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
<script src="../../js/open_in_new_tab.js"></script>
<script src="../../assets/external/unpkg.com/mermaid@11/dist/mermaid.min.js"></script>

<script id="init-glightbox">document.querySelectorAll('.glightbox').forEach(function(element) {
    try {
        var img = element.querySelector('img');
        if (img && img.src) {
            element.setAttribute('href', img.src);
        } else {
            console.log('No img element with src attribute found');
        }
    } catch (error) {
        console.log('Error:', error);
    }
});
const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>
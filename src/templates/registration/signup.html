{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="six wide centered column">
    {% if form.non_field_errors %}
    <div class="ui red message">
        {{ form.non_field_errors }}
    </div>
    {% endif %}
    <h2 class="ui blue centered header">
        Sign Up
    </h2>
    <div class="ui stacked segment">
        <form class="ui form" method="post">
            {% csrf_token %}
            <div class="field">
                <div class="ui left icon input">
                    <i class="user icon"></i>
                    <input type="text"
                           name="username"
                           placeholder="username"
                           id="id_username"
                           value="{{ form.username.value|default:''}}"
                           maxlength="{{ form.username.field.max_length }}"
                           autofocus
                           required>
                </div>
            </div>
            {% if form.username.errors %}
            <div class="ui red message">
                {{ form.username.errors }}
            </div>
            {% endif %}

            <div class="field">
                <div class="ui left icon input">
                    <i class="envelope icon"></i>
                    <input type="email"
                           name="email"
                           placeholder="email"
                           id="id_email"
                           value="{{ form.email.value|default:''}}"
                           maxlength="{{ form.email.field.max_length }}"
                           required>
                </div>
            </div>
            {% if form.email.errors %}
            <div class="ui red message">
                {{ form.email.errors }}
            </div>
            {% endif %}

            <div class="field">
                <div class="ui left icon input">
                    <i class="lock icon"></i>
                    <input type="password"
                           name="password1"
                           placeholder="password"
                           id="id_password1"
                           value="{{ form.password1.value|default:''}}"
                           maxlength="{{ form.password1.field.max_length }}"
                           required>
                </div>
            </div>
            {% if form.password1.errors %}
            <div class="ui red message">
                {{ form.password1.errors }}
            </div>
            {% endif %}

            <div class="field">
                <div class="ui left icon input">
                    <i class="lock icon"></i>
                    <input type="password"
                           name="password2"
                           placeholder="confirm password"
                           id="id_password2"
                           value="{{ form.password2.value|default:''}}"
                           maxlength="{{ form.password2.field.max_length }}"
                           required>
                </div>
            </div>
            {% if form.password2.errors %}
            <div class="ui red message">
                {{ form.password2.errors }}
            </div>
            {% endif %}

            <div>
                <input type="checkbox" name="checkbox" id="id_checkbox" required>
                <label for="id_checkbox">I accept the <a href="https://github.com/codalab/codalab-competitions/wiki/Privacy" target="_blank">terms and conditions</a>.</label>
            </div>

            <button class="ui blue fluid submit button" type="submit">Sign Up</button>
        </form>
        <div class="ui divider"></div>
        <p>Already have an account? <a href="{% url 'accounts:login' %}">Log In</a> instead.</p>
    </div>

</div>
{% endblock %}
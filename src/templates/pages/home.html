{% extends "base.html" %}

{% load staticfiles %}
{% load i18n %}

{% block top_div_extra_class %}jumbotron{% endblock %}

{% block top_div_extra_content %}

    <div class="ui text container">
        <img id="jumbo_logo" src="{% static "img/codabench.png" %}">
        <h2 class="subtitle"><h1> BETA </h1></h2>
    </div>

{% endblock %}

{% block content %}
    <div class="home-wrap">
        <front-page-competitions></front-page-competitions>


        <div id="action-container" class="segment-container ui segment full-width">
            <div class="ui header">
                About CodaBench
            </div>
            <div class="container-content">
                <div class="center aligned column">
                    <h3 class="ui icon header">
                        <i class="trophy icon"></i>
                        Participate
                    </h3>
                    <div>
                        <p>Find benchmarks that pique your interest! A benchmark allows you to test new algorithms against reference datasets OR (inverted benchmark) submit challenging data to reference algorithms.</p>
                    </div>
                </div>
                <div class="center aligned column">
                    <h3 class="ui icon header">
                        <i class="users icon"></i>
                        Organize
                    </h3>
                    <div>
                        <p>Organize a benchmark on Codabench. Start with our <a href="https://github.com/codalab/competitions-v2/wiki/Getting-started-with-Codabench">tutorial</a>.</p>
                    </div>
                </div>
                <div class="center aligned column">
                    <h3 class="ui icon header">
                        <i class="code icon"></i>
                        Contribute
                    </h3>
                    <div>
                        <p>Interested in joining the development team? Join us on <a href="https://github.com/codalab/competitions-v2">Github</a> or <a href="mailto:info@codalab.org">contact us</a> directly.</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="ui six column grid" id="general-stats">
            {% for stat in general_stats %}
                <div class="column">
                    <div class="ui statistic">
                        <div class="value">
                            {{ stat.count }}
                        </div>
                        <div class="label">
                            {{ stat.label }}
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
{% endblock %}


{% block extra_body %}
    <script>
        // Prevent buttons from stacking in mobile view
        $(window).resize(function () {
            if ($(window).width() < 390) {
                return $('.pages')
                    .removeClass('huge')
                    .addClass('large');
            }
            $('.pages')
                .removeClass('large')
                .addClass('huge');
        }).trigger('resize');
    </script>
{% endblock %}
